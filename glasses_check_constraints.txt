I) Glasses Check constraints & validations:

1. FV:
	numerator/denominator: numerator - integer, values[6, 20]
			       denominator: integer, values[3, 200]

2. Sph. (Sphere):
	decimal, values[-20.00, 20.00] (most prescriptions -12 to 8)
		with steps in 0.25
		(e3ni: (value * 100) % 25 == 0)

3. Cyl. (Cylindrical Power):
	Decimal in steps of 0.25.
	values [-6, 6]
	If values is 0, or "-" (null) treat as no astigmatism.

4. Ax. (Axis):
	Required ONLY IF Cyl. != 0
	Integer, values [0, 180] (no decimal)
	e3ni eza fe Cyl, mjbor ekon fe Axis.
	eza fsh Cyl, me3nah Axis must equal Null/Empty

	IF cyl != 0 THEN axis MUST be between 0 and 180
	IF cyl == 0 THEN axis MUST be NULL / empty / dot

5. Prism:
	Optional
	Decimal, values [0, 10]
	Steps of 0.25
	If prism is null --> Base must be null/empty as well.


6. Base:
	String
	Value âˆˆ {"BU", "BD", "BI", "BO"} (drop-down list?)
	Required only if Prism > 0
	Can Base be some value while Prism = 0/null ???

	IF prism > 0 THEN base MUST be in {BU, BD, BI, BO}
	IF prism == 0 OR null THEN base MUST be null


7. VA: ?????????  numerator and denominator are Integers? Update answer in all the tables!

8. ADDITIONS:
	Read, Int. (intermediate), Bif. (bifocal), Mul. (multifocal):
	Decimal, steps of 0.25.
	Values[0.50, 3.50] (only positive)

	And usually, but not ncesessarily:
	IF age < ~40 THEN Add. fields should be NULL
	
	Usually only one of Read / Bifocal / Multifocal is used
	But a user may enter multiple; not strictly invalid.

9. High: ?????? nfs el Additions above ???

10. PD (Pupillary Distance):
	Decimal, values [50, 75]mm.
	Better to split as 2 values:
	PD_near, PD_distance

	



----------------------------------------------------------------------------------------------
II) See the question marks in GlassesTest class in models.py regarding other fields

----------------------------------------------------------------------------------------------
III) See the additional fields on the right side (outside of the tables) in the contact lenses img,
and add them accordingly to the schema, class and methods.

----------------------------------------------------------------------------------------------

IV) Validations regarding ContactLensesTest fields:

Copied from ChatGPT:
1. Typ (Lens Type)

Examples: "SF", "MF", "TORIC" etc.

Constraints:

Enum

If you want to be permissive: allow any short string max 10 characters

If strict: predefined list (daily, monthly, toric, multifocal, etc.)

âœ” 2. Manufacturer / Importer

No strict optical constraints.

Validation:

Non-empty string

Unicode allowed

Max length: 100

âœ” 3. Brand

Same rules as manufacturer.

âœ” 4. Diam (Lens Diameter)

Constraints:

Decimal with 1 digit (e.g., 14.1, 13.8)

Range 13.0 â†’ 15.0 mm

Step: 0.1 mm increments

âœ” 5. B.C. (Base Curve)

This defines the curvature of the contact lens.

Constraints:

Decimal with 2 digits (e.g., 8.50)

Range: 7.50 â†’ 9.50 mm

Step: 0.1 or 0.05 mm
(depends on manufacturer)

âœ” 6. Sph (Contact Lens Sphere)

Constraints:

Range: â€“20.00 â†’ +10.00

Step: 0.25

Contact lens sphere is often different from glasses sphere.
No need to enforce relationship between the two.

âœ” 7. Cyl (Contact Lens Cylinder)

Only present when lens is toric.

Constraints:

Range: â€“0.75 â†’ â€“5.75

Step increments: 0.25

Dependency:

If Cyl != 0 â†’ Ax is required (0â€“180)
If Cyl == 0 or missing â†’ Ax must be null

âœ” 8. Ax (Axis for Toric Lens)

Constraints:

Integer between 0 and 180

Only required if Cyl â‰  0

Must be in steps of 10 or sometimes 5
(Manufacturers rarely offer all axis values)

âœ” 9. Mat. (Lens Material)

Optional free-text, but common examples:

Omafilcon A

Etafilcon A

Senofilcon A

Somofilcon A

Constraints:

String, max 100 chars.

âœ” 10. Tint

Optional.

Common values:

Clear

Blue

Green

Handling Tint

Constraints:

Short string, max 30 chars

Optional

âœ” 11. VA (Vision With Contact Lens)

Format:

6/6
6/9
6/12
etc.


Constraints:

Format must be match regex:
/^\d+\/\d+$/

Denominator 3â€“200

Numerator usually 6 or 20

ðŸ§© Combined Dependency Rules (Very Important)
âœ” If Cyl = 0 â†’ Axis must be null
âœ” If Cyl â‰  0 â†’ Axis must be 0â€“180
âœ” Diameter must be compatible with B.C.

Not enforceable in code (brand-dependent) â€” ignore.

âœ” Contact lens sphere must be in 0.25 steps

Same for cylinder.

âœ” Keratometry values (rH, rV, etc.)

Must be 6.0â€“9.5mm.


----------------------------------------------------------------------------------------------

V) User additional fields.





